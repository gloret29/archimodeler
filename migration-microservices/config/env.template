# Configuration Globale - Migration Microservices
# Copier ce fichier en .env et remplir les valeurs

# ============================================
# Configuration Proxmox
# ============================================
PROXMOX_NODE=pve1
PROXMOX_STORAGE=local-lvm
PROXMOX_BRIDGE=vmbr0
PROXMOX_TEMPLATE=local:vztmpl/ubuntu-22.04-standard_22.04-1_amd64.tar.zst

# ============================================
# Configuration Réseau
# ============================================
NETWORK_BASE=10.0.0
NETWORK_GATEWAY=10.0.0.1
NETWORK_DNS=8.8.8.8

# IPs des LXC (à adapter selon votre réseau)
LXC_INFRASTRUCTURE_IP=10.0.0.10
LXC_GATEWAY_IP=10.0.0.11
LXC_IAM_IP=10.0.0.12
LXC_MODELING_IP=10.0.0.13
LXC_COLLABORATION_IP=10.0.0.14
LXC_COMMENTS_IP=10.0.0.15
LXC_NOTIFICATIONS_IP=10.0.0.16
LXC_WORKFLOW_IP=10.0.0.17
LXC_STEREOTYPES_IP=10.0.0.18
LXC_SEARCH_IP=10.0.0.19
LXC_CONNECTORS_IP=10.0.0.20
LXC_AI_IP=10.0.0.21
LXC_SCRIPTING_IP=10.0.0.22
LXC_SETTINGS_IP=10.0.0.23
LXC_METAMODEL_IP=10.0.0.24
LXC_OBSERVABILITY_IP=10.0.0.25

# ============================================
# IDs des LXC
# ============================================
LXC_INFRASTRUCTURE_ID=100
LXC_GATEWAY_ID=101
LXC_IAM_ID=102
LXC_MODELING_ID=103
LXC_COLLABORATION_ID=104
LXC_COMMENTS_ID=105
LXC_NOTIFICATIONS_ID=106
LXC_WORKFLOW_ID=107
LXC_STEREOTYPES_ID=108
LXC_SEARCH_ID=109
LXC_CONNECTORS_ID=110
LXC_AI_ID=111
LXC_SCRIPTING_ID=112
LXC_SETTINGS_ID=113
LXC_METAMODEL_ID=114
LXC_OBSERVABILITY_ID=115

# ============================================
# Configuration Infrastructure
# ============================================
# PostgreSQL - Bases de données par service
POSTGRES_IAM_USER=iam_user
POSTGRES_IAM_PASSWORD=CHANGE_ME_IAM_PASSWORD
POSTGRES_IAM_DB=iam

POSTGRES_MODELING_USER=modeling_user
POSTGRES_MODELING_PASSWORD=CHANGE_ME_MODELING_PASSWORD
POSTGRES_MODELING_DB=modeling

POSTGRES_COMMENTS_USER=comments_user
POSTGRES_COMMENTS_PASSWORD=CHANGE_ME_COMMENTS_PASSWORD
POSTGRES_COMMENTS_DB=comments

POSTGRES_NOTIFICATIONS_USER=notifications_user
POSTGRES_NOTIFICATIONS_PASSWORD=CHANGE_ME_NOTIFICATIONS_PASSWORD
POSTGRES_NOTIFICATIONS_DB=notifications

POSTGRES_WORKFLOW_USER=workflow_user
POSTGRES_WORKFLOW_PASSWORD=CHANGE_ME_WORKFLOW_PASSWORD
POSTGRES_WORKFLOW_DB=workflow

POSTGRES_STEREOTYPES_USER=stereotypes_user
POSTGRES_STEREOTYPES_PASSWORD=CHANGE_ME_STEREOTYPES_PASSWORD
POSTGRES_STEREOTYPES_DB=stereotypes

POSTGRES_CONNECTORS_USER=connectors_user
POSTGRES_CONNECTORS_PASSWORD=CHANGE_ME_CONNECTORS_PASSWORD
POSTGRES_CONNECTORS_DB=connectors

POSTGRES_SETTINGS_USER=settings_user
POSTGRES_SETTINGS_PASSWORD=CHANGE_ME_SETTINGS_PASSWORD
POSTGRES_SETTINGS_DB=settings

POSTGRES_METAMODEL_USER=metamodel_user
POSTGRES_METAMODEL_PASSWORD=CHANGE_ME_METAMODEL_PASSWORD
POSTGRES_METAMODEL_DB=metamodel

# NATS
NATS_URL=nats://${LXC_INFRASTRUCTURE_IP}:4222
NATS_USER=nats_user
NATS_PASSWORD=CHANGE_ME_NATS_PASSWORD

# Redis
REDIS_URL=redis://${LXC_INFRASTRUCTURE_IP}:6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# OpenSearch
OPENSEARCH_URL=http://${LXC_INFRASTRUCTURE_IP}:9200

# ============================================
# Configuration Services
# ============================================
# JWT
JWT_SECRET=CHANGE_ME_JWT_SECRET_$(openssl rand -base64 32)
JWT_EXPIRES_IN=7d

# API Gateway
GATEWAY_DOMAIN=api.archimodeler.local
GATEWAY_HTTP_PORT=80
GATEWAY_HTTPS_PORT=443

# OpenAI (pour AI Service)
OPENAI_API_KEY=CHANGE_ME_OPENAI_API_KEY

# ============================================
# Configuration Observabilité
# ============================================
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD
PROMETHEUS_RETENTION=30d

# ============================================
# Ressources LXC
# ============================================
# Infrastructure
LXC_INFRASTRUCTURE_MEMORY=8192
LXC_INFRASTRUCTURE_CORES=4
LXC_INFRASTRUCTURE_DISK=100

# Gateway
LXC_GATEWAY_MEMORY=1024
LXC_GATEWAY_CORES=2
LXC_GATEWAY_DISK=20

# Services (par défaut)
LXC_SERVICE_MEMORY=2048
LXC_SERVICE_CORES=2
LXC_SERVICE_DISK=50

# Services critiques (plus de ressources)
LXC_MODELING_MEMORY=4096
LXC_MODELING_CORES=4
LXC_MODELING_DISK=100

LXC_COLLABORATION_MEMORY=2048
LXC_COLLABORATION_CORES=2
LXC_COLLABORATION_DISK=30

# Observabilité
LXC_OBSERVABILITY_MEMORY=4096
LXC_OBSERVABILITY_CORES=2
LXC_OBSERVABILITY_DISK=100




